<div style="text-align: center">
    <canvas id="canvas" width="100" height="100"
    style="background-color:#FFF">
    </canvas>
    
    <script>
    function kompass(canvasId, angle) {
        const canvas = document.getElementById(canvasId);
        const ctx = canvas.getContext("2d");
        const padding = 0.8;
        const rotationAngle = (180+angle)*Math.PI/180; // Berechung des Winkels (invertiert auf Grund der Pfeilausrichtung) und Konvertierung in RAD
        const radius = 0.95 * canvas.width/2 ;
        const directions = Array("N","NO","O","SO","S","SW","W","NW");
        
        ctx.clearRect(0, 0,canvas.width, canvas.height);
       
        console.log("Wind aus Richtung: " + angle + " GRAD");
        console.log("Rotation RAD: " + rotationAngle);
        ctx.font = radius*0.20 + "px 'calibri'";
        ctx.textBaseline="middle"
        ctx.textAlign="center";
        ctx.translate(canvas.width/2, canvas.height/2);
        directions.forEach((current, num, arr)=>{
            let ang = num * Math.PI / 4;
            ctx.rotate(ang);
            ctx.translate(0, -radius*0.95);
            ctx.rotate(-ang);
            ctx.fillText(current, 0, 0);
            ctx.rotate(ang);
            ctx.translate(0, radius*0.95);
            ctx.rotate(-ang);
            });
        ctx.translate(-canvas.width/2, -canvas.height/2);   
        //Windrichtung

        //rotation
        ctx.translate(canvas.width/2,canvas.height/2);
        ctx.rotate(rotationAngle);
        ctx.translate(-canvas.width/2,-canvas.height/2);

        ctx.moveTo(canvas.width/2 + canvas.width/6, canvas.height* padding);
        ctx.lineTo(canvas.width/2, canvas.height*(1-padding));
        ctx.lineTo(canvas.width/2 - canvas.width/6, canvas.height*padding);
        ctx.lineTo(canvas.width/2,canvas.height*(padding-0.15));
        ctx.closePath();

        //stroke
        ctx.lineWidth = 2;
        ctx.strokeStyle = '#111111';
        ctx.stroke();

        // the fill color
        ctx.fillStyle = "#FF0000";
        ctx.fill();
        ctx.rotate(-rotationAngle);
       
    }
    kompass("canvas", 45);
    </script>
    </div>
    <input type="text" onChange="javascript:kompass('canvas',this.value)">